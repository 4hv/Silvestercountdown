<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <!-- SEO Optimierung -->
    <title>Silvester Countdown 2026</title>
    <meta name="description" content="Der exakte Silvester Countdown 2026. Wie lange noch bis Neujahr? Live Timer, Spr√ºche, Traditionen und Party-Checkliste f√ºr den perfekten Jahreswechsel.">
    <meta name="keywords" content="Silvester Countdown 2026, Neujahr Countdown, Silvester Timer, Wie lange noch bis Silvester, Countdown Uhr, Jahreswechsel 2026, Neujahrsw√ºnsche">
    <meta name="theme-color" content="#000000">
    
    <!-- Open Graph -->
    <meta property="og:title" content="Silvester Countdown 2026">
    <meta property="og:description" content="Wie lange noch bis 2026? Hier ist der Live-Timer.">
    <meta property="og:type" content="website">

    <!-- Fonts: Inter f√ºr UI, Oswald f√ºr Numbers -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Oswald:wght@500;700&display=swap" rel="stylesheet">

    <style>
        :root {
            --bg-color: #000;
            --text-color: #fff;
            --accent-cyan: #00f2ea;
            --accent-pink: #ff0050;
            --glass: rgba(255, 255, 255, 0.1);
            --glass-border: rgba(255, 255, 255, 0.15);
            --drawer-bg: #121212;
            --safe-area-bottom: env(safe-area-inset-bottom);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            background: var(--bg-color);
            color: var(--text-color);
            font-family: 'Inter', sans-serif;
            height: 100vh;
            width: 100vw;
            overflow: hidden;
            position: fixed;
        }

        /* --- BACKGROUND ANIMATION --- */
        .gradient-bg {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1;
            background: radial-gradient(at 0% 0%, hsla(253,16%,7%,1) 0, transparent 50%), 
                        radial-gradient(at 50% 0%, hsla(225,39%,30%,1) 0, transparent 50%), 
                        radial-gradient(at 100% 0%, hsla(339,49%,30%,1) 0, transparent 50%);
            background-size: 200% 200%;
            animation: gradientMove 15s ease infinite;
        }

        .orb {
            position: absolute;
            border-radius: 50%;
            filter: blur(80px);
            opacity: 0.6;
            animation: floatOrb 10s infinite ease-in-out;
        }
        .orb-1 { top: 20%; left: 20%; width: 60vw; height: 60vw; background: var(--accent-pink); animation-delay: 0s; }
        .orb-2 { bottom: 20%; right: 20%; width: 50vw; height: 50vw; background: var(--accent-cyan); animation-delay: -5s; }

        @keyframes gradientMove { 0% { background-position: 0% 50% } 50% { background-position: 100% 50% } 100% { background-position: 0% 50% } }
        @keyframes floatOrb { 0%, 100% { transform: translate(0,0); } 50% { transform: translate(30px, -30px); } }

        /* --- MAIN UI --- */
        .screen-content {
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
            z-index: 10;
        }

        header {
            position: absolute;
            top: 5vh;
            text-align: center;
            z-index: 20;
        }

        h1 {
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            font-weight: 700;
            background: rgba(0,0,0,0.4);
            padding: 8px 16px;
            border-radius: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.1);
            display: inline-block;
        }

        /* MASSIVE COUNTDOWN GRID - Optimized for readability */
        .countdown-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 1fr 1fr;
            width: 100%;
            height: 65vh; /* Etwas mehr H√∂he */
            align-content: center;
            justify-items: center;
            gap: 2px; /* Minimaler Abstand */
            padding: 0 10px;
        }

        .time-block {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 100%;
        }

        .big-digit {
            font-family: 'Oswald', sans-serif;
            font-size: 20vw; /* Noch gr√∂√üer */
            font-weight: 700;
            line-height: 1; /* Kompakter */
            text-shadow: 0 4px 10px rgba(0,0,0,0.3);
            font-variant-numeric: tabular-nums;
            letter-spacing: -4px; /* Enger zusammen */
        }

        .label {
            font-size: 0.9rem;
            font-weight: 600;
            text-transform: uppercase;
            opacity: 0.6;
            margin-top: 0;
        }
        
        .seconds-block .big-digit {
            color: var(--accent-pink);
            text-shadow: 0 0 30px rgba(255, 0, 80, 0.5);
        }

        /* Side Actions */
        .side-actions {
            position: absolute;
            right: 16px;
            bottom: 140px;
            display: flex;
            flex-direction: column;
            gap: 20px;
            align-items: center;
            z-index: 50;
        }

        .action-btn {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.15);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: white;
            cursor: pointer;
            transition: all 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            text-decoration: none;
        }
        .action-btn:active { transform: scale(0.9); background: rgba(255,255,255,0.2); }
        .action-btn:hover { transform: scale(1.05); border-color: var(--accent-cyan); }
        
        .action-btn svg { width: 24px; height: 24px; stroke-width: 2; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.5)); }
        
        .action-label {
            font-size: 10px;
            margin-top: 4px;
            font-weight: 600;
            text-shadow: 0 1px 2px rgba(0,0,0,0.8);
        }

        /* Bottom Nav */
        .bottom-dock {
            position: absolute;
            bottom: calc(20px + var(--safe-area-bottom));
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 6px;
            background: rgba(20, 20, 20, 0.75);
            backdrop-filter: blur(20px);
            padding: 6px;
            border-radius: 24px;
            border: 1px solid rgba(255,255,255,0.1);
            z-index: 50;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }

        .dock-item {
            padding: 12px 18px;
            border-radius: 18px;
            font-size: 0.85rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s;
            white-space: nowrap;
            color: rgba(255,255,255,0.6);
        }
        .dock-item:active { background: rgba(255,255,255,0.1); }
        .dock-item.highlight { background: #fff; color: #000; box-shadow: 0 2px 10px rgba(0,0,0,0.2); transform: scale(1.05); }

        /* --- DRAWER --- */
        .drawer-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.6);
            z-index: 100;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s;
        }
        .drawer-overlay.open { opacity: 1; pointer-events: auto; }

        .drawer {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 80vh; /* Fixed high height */
            background: var(--drawer-bg);
            border-radius: 20px 20px 0 0;
            transform: translateY(100%);
            transition: transform 0.3s cubic-bezier(0.2, 0.9, 0.3, 1);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            box-shadow: 0 -10px 40px rgba(0,0,0,0.5);
        }
        .drawer-overlay.open .drawer { transform: translateY(0); }

        .drawer-header {
            padding: 15px;
            text-align: center;
            border-bottom: 1px solid rgba(255,255,255,0.08);
            position: relative;
            flex-shrink: 0;
            background: rgba(18,18,18,0.95);
        }
        .drawer-handle { width: 40px; height: 4px; background: #333; border-radius: 2px; margin: 0 auto 15px auto; }
        .drawer-title { font-weight: 700; font-size: 1.1rem; }
        .close-drawer {
            position: absolute; right: 15px; top: 15px;
            background: rgba(255,255,255,0.1);
            border: none; color: #fff; width: 30px; height: 30px;
            border-radius: 50%; display: flex; align-items: center; justify-content: center;
            cursor: pointer;
        }

        .drawer-content {
            padding: 20px;
            overflow-y: auto;
            padding-bottom: 80px;
        }

        /* Content Cards */
        .content-card {
            background: rgba(255,255,255,0.05);
            padding: 16px;
            border-radius: 16px;
            margin-bottom: 12px;
            border: 1px solid rgba(255,255,255,0.05);
            position: relative;
        }

        .quote-text { font-size: 1rem; line-height: 1.5; margin-bottom: 12px; font-style: italic; }

        .card-actions {
            display: flex; justify-content: space-between; align-items: center;
            border-top: 1px solid rgba(255,255,255,0.1); padding-top: 10px; margin-top: 10px;
        }
        
        .action-sm-btn {
            background: transparent; border: none; color: var(--accent-cyan);
            font-size: 0.85rem; font-weight: 600; display: flex; align-items: center; gap: 6px;
            cursor: pointer; padding: 5px 10px; border-radius: 8px; transition: background 0.2s;
        }
        .action-sm-btn:active { background: rgba(0, 242, 234, 0.1); }

        .fact-title { color: var(--accent-pink); font-weight: 700; margin-bottom: 4px; font-size: 0.9rem; text-transform: uppercase; }

        .check-row { display: flex; align-items: center; gap: 12px; padding: 12px 0; border-bottom: 1px solid rgba(255,255,255,0.05); }
        .check-circle { min-width: 22px; height: 22px; border: 2px solid var(--accent-cyan); border-radius: 50%; }

        .btn-full {
            width: 100%; padding: 14px; margin-top: 20px; background: #fff; color: #000;
            font-weight: 700; border: none; border-radius: 12px; font-size: 1rem; cursor: pointer;
        }

        /* SEO Text Block */
        .seo-block {
            margin-top: 20px;
            padding: 15px;
            background: rgba(0,0,0,0.3);
            border-radius: 12px;
            font-size: 0.85rem;
            color: #aaa;
            line-height: 1.6;
        }
        .seo-block h2 { font-size: 1rem; color: #fff; margin-bottom: 8px; }

        /* HNY Overlay */
        #hny-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.85);
            z-index: 200;
            display: none;
            justify-content: center; align-items: center; flex-direction: column;
        }
        .hny-text {
            font-size: 18vw; font-weight: 900; line-height: 0.85;
            background: linear-gradient(135deg, #fff, var(--accent-cyan));
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            text-align: center;
            animation: zoomPulse 2s infinite;
        }
        @keyframes zoomPulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }

        #fireworks-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 150; }
        
        #toast {
            position: fixed; top: 80px; left: 50%; transform: translateX(-50%);
            background: #fff; color: #000; padding: 10px 20px; border-radius: 30px;
            font-size: 0.9rem; font-weight: 600;
            opacity: 0; pointer-events: none; transition: 0.3s; z-index: 300;
            box-shadow: 0 10px 20px rgba(0,0,0,0.3);
        }
        #toast.show { opacity: 1; top: 100px; }

    </style>
</head>
<body>

    <!-- Background -->
    <div class="gradient-bg">
        <div class="orb orb-1"></div>
        <div class="orb orb-2"></div>
    </div>
    <canvas id="fireworks-canvas"></canvas>

    <!-- Main Screen -->
    <div class="screen-content">
        <header>
            <h1 id="year-label">Countdown 2026</h1>
        </header>

        <div class="countdown-container">
            <div class="time-block">
                <div class="big-digit" id="d">00</div>
                <div class="label">Tage</div>
            </div>
            <div class="time-block">
                <div class="big-digit" id="h">00</div>
                <div class="label">Std</div>
            </div>
            <div class="time-block">
                <div class="big-digit" id="m">00</div>
                <div class="label">Min</div>
            </div>
            <div class="time-block seconds-block">
                <div class="big-digit" id="s">00</div>
                <div class="label">Sek</div>
            </div>
        </div>

        <!-- Right Side Actions -->
        <div class="side-actions">
            <!-- Share App -->
            <div class="action-btn" onclick="shareApp('Ich bin bereit f√ºr 2026! Hier ist der Timer:', window.location.href)">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><circle cx="18" cy="5" r="3"></circle><circle cx="6" cy="12" r="3"></circle><circle cx="18" cy="19" r="3"></circle><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line></svg>
            </div>
            <span class="action-label">Share</span>

            <!-- Firework Trigger -->
            <div class="action-btn" onclick="toggleFireworks()" style="border-color: var(--accent-pink);">
                <svg viewBox="0 0 24 24" fill="none" stroke="#ff0050" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></svg>
            </div>
            <span class="action-label">Vorschau</span>
            
            <!-- Info -->
            <a href="https://dittes.info/contact/" target="_blank" class="action-btn">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg>
            </a>
            <span class="action-label">Info</span>
        </div>

        <!-- Bottom Navigation Dock -->
        <div class="bottom-dock">
            <div class="dock-item highlight" id="nav-home" onclick="showHome()">Countdown</div>
            <div class="dock-item" id="nav-wishes" onclick="openDrawer('wishes')">Spr√ºche</div>
            <div class="dock-item" id="nav-traditions" onclick="openDrawer('traditions')">Wissen</div>
            <div class="dock-item" id="nav-checklist" onclick="openDrawer('checklist')">Planer</div>
        </div>
    </div>

    <!-- HNY Overlay -->
    <div id="hny-overlay" onclick="stopFireworks()">
        <div class="hny-text">FROHES<br>NEUES<br>JAHR</div>
    </div>

    <!-- DRAWERS (Modals) -->
    
    <!-- Spr√ºche Drawer -->
    <div class="drawer-overlay" id="drawer-wishes">
        <div class="drawer">
            <div class="drawer-header">
                <div class="drawer-handle"></div>
                <div class="drawer-title">Neujahrsw√ºnsche üìã</div>
                <button class="close-drawer" onclick="closeAllDrawers()">‚úï</button>
            </div>
            <div class="drawer-content">
                
                <div class="content-card">
                    <div class="quote-text">"Sonne, Mond und Sterne, alles liegt in weiter Ferne. Doch das Gute, das ist ganz nah: Ein gl√ºckliches neues Jahr! ‚ú®"</div>
                    <div class="card-actions">
                        <button class="action-sm-btn" onclick="copyText('Sonne, Mond und Sterne, alles liegt in weiter Ferne. Doch das Gute, das ist ganz nah: Ein gl√ºckliches neues Jahr! ‚ú®')">Kopieren</button>
                        <button class="action-sm-btn" onclick="shareApp('Ein sch√∂ner Spruch f√ºr dich:', 'Sonne, Mond und Sterne, alles liegt in weiter Ferne. Doch das Gute, das ist ganz nah: Ein gl√ºckliches neues Jahr! ‚ú®')">Teilen</button>
                    </div>
                </div>

                <div class="content-card">
                    <div class="quote-text">"Prosit Neujahr! ü•Ç M√∂ge dein Akku immer voll, dein WLAN immer stark und dein Kaffee immer hei√ü sein."</div>
                    <div class="card-actions">
                        <button class="action-sm-btn" onclick="copyText('Prosit Neujahr! ü•Ç M√∂ge dein Akku immer voll, dein WLAN immer stark und dein Kaffee immer hei√ü sein.')">Kopieren</button>
                        <button class="action-sm-btn" onclick="shareApp('', 'Prosit Neujahr! ü•Ç M√∂ge dein Akku immer voll, dein WLAN immer stark und dein Kaffee immer hei√ü sein.')">Teilen</button>
                    </div>
                </div>

                <div class="content-card">
                    <div class="quote-text">"365 neue Tage. 365 neue Chancen. 365 neue M√∂glichkeiten. Mach was draus! Frohes neues Jahr! üöÄ"</div>
                    <div class="card-actions">
                        <button class="action-sm-btn" onclick="copyText('365 neue Tage. 365 neue Chancen. 365 neue M√∂glichkeiten. Mach was draus! Frohes neues Jahr! üöÄ')">Kopieren</button>
                        <button class="action-sm-btn" onclick="shareApp('', '365 neue Tage. 365 neue Chancen. 365 neue M√∂glichkeiten. Mach was draus! Frohes neues Jahr! üöÄ')">Teilen</button>
                    </div>
                </div>

                <div class="content-card">
                    <div class="quote-text">"Lass die Korken knallen und die Gl√§ser klingen! üçæ Auf ein Jahr voller Abenteuer, Gl√ºck und Gesundheit."</div>
                    <div class="card-actions">
                        <button class="action-sm-btn" onclick="copyText('Lass die Korken knallen und die Gl√§ser klingen! üçæ Auf ein Jahr voller Abenteuer, Gl√ºck und Gesundheit.')">Kopieren</button>
                        <button class="action-sm-btn" onclick="shareApp('', 'Lass die Korken knallen und die Gl√§ser klingen! üçæ Auf ein Jahr voller Abenteuer, Gl√ºck und Gesundheit.')">Teilen</button>
                    </div>
                </div>

                <div class="content-card">
                    <div class="quote-text">"F√ºr das neue Jahr w√ºnsche ich dir so viel Gl√ºck wie Wassertropfen im Meer, so viel Liebe wie Sterne am Himmel und Gesundheit an jedem neuen Tag. ‚ù§Ô∏è"</div>
                    <div class="card-actions">
                        <button class="action-sm-btn" onclick="copyText('F√ºr das neue Jahr w√ºnsche ich dir so viel Gl√ºck wie Wassertropfen im Meer, so viel Liebe wie Sterne am Himmel und Gesundheit an jedem neuen Tag.')">Kopieren</button>
                        <button class="action-sm-btn" onclick="shareApp('', 'F√ºr das neue Jahr w√ºnsche ich dir so viel Gl√ºck wie Wassertropfen im Meer, so viel Liebe wie Sterne am Himmel und Gesundheit an jedem neuen Tag.')">Teilen</button>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <!-- Traditionen Drawer -->
    <div class="drawer-overlay" id="drawer-traditions">
        <div class="drawer">
            <div class="drawer-header">
                <div class="drawer-handle"></div>
                <div class="drawer-title">Fun Facts & Wissen üé©</div>
                <button class="close-drawer" onclick="closeAllDrawers()">‚úï</button>
            </div>
            <div class="drawer-content">
                <div class="content-card">
                    <div class="fact-title">Dinner for One</div>
                    <p style="font-size:0.9rem; color:#ccc;">L√§uft seit 1963. In England kennt es niemand, in Deutschland ist es Kult. Butler James trinkt insgesamt 18 Mal √ºber den Abend.</p>
                </div>
                <div class="content-card">
                    <div class="fact-title">Rote Unterw√§sche</div>
                    <p style="font-size:0.9rem; color:#ccc;">Italienischer Brauch: Rote W√§sche an Silvester bringt Gl√ºck & Liebe. Regel: Sie muss geschenkt sein und am 1. Januar weggeworfen werden!</p>
                </div>
                <div class="content-card">
                    <div class="fact-title">Linsensuppe</div>
                    <p style="font-size:0.9rem; color:#ccc;">In vielen Regionen isst man Linsensuppe zu Silvester. Die Linsen symbolisieren Geldm√ºnzen ‚Äì wer sie isst, dem soll im neuen Jahr das Geld nicht ausgehen.</p>
                </div>
                <div class="content-card">
                    <div class="fact-title">Berliner / Pfannkuchen</div>
                    <p style="font-size:0.9rem; color:#ccc;">Ein s√º√üer Klassiker um Mitternacht. Vorsicht beim Reinbei√üen: Ein alter Scherz besagt, dass einer mit Senf gef√ºllt ist!</p>
                </div>
                <div class="content-card">
                    <div class="fact-title">12 Trauben</div>
                    <p style="font-size:0.9rem; color:#ccc;">Spanien: Bei jedem Glockenschlag um 0:00 Uhr muss eine Traube gegessen werden. Wer alle 12 schafft, hat im neuen Jahr Gl√ºck.</p>
                </div>

                <!-- SEO Content Block -->
                <div class="seo-block">
                    <h2>√úber diesen Silvester Countdown</h2>
                    <p>Willkommen beim ultimativen <strong>Silvester Countdown 2026</strong>. Egal ob du auf einer Party bist, alleine feierst oder einfach nur wissen willst, wie viele Sekunden noch bis zum Jahreswechsel verbleiben: Dieser Live-Timer ist dein pr√§ziser Begleiter f√ºr Neujahr. Neben der genauen Uhrzeit bis Mitternacht bietet diese Web-App auch lustige Spr√ºche f√ºr WhatsApp, spannende Fakten zu Silvester-Br√§uchen wie Bleigie√üen oder Dinner for One und eine praktische Checkliste f√ºr die perfekte Party.</p>
                </div>

                <button class="btn-full" onclick="shareApp('Wusstest du das schon √ºber Silvester?', 'Hier gibt es coole Fakten: ' + window.location.href)">Fakten teilen</button>
            </div>
        </div>
    </div>

    <!-- Checklist Drawer -->
    <div class="drawer-overlay" id="drawer-checklist">
        <div class="drawer">
            <div class="drawer-header">
                <div class="drawer-handle"></div>
                <div class="drawer-title">Party Checkliste ‚úÖ</div>
                <button class="close-drawer" onclick="closeAllDrawers()">‚úï</button>
            </div>
            <div class="drawer-content">
                <div class="check-row"><div class="check-circle"></div><span>Sekt kaltgestellt? (Mind. 4h)</span></div>
                <div class="check-row"><div class="check-circle"></div><span>Spotify Playlist "Silvester 2026"</span></div>
                <div class="check-row"><div class="check-circle"></div><span>Eisw√ºrfel im Gefrierfach?</span></div>
                <div class="check-row"><div class="check-circle"></div><span>Mitternachtssnack (Berliner/Suppe)</span></div>
                <div class="check-row"><div class="check-circle"></div><span>Wunderkerzen & Feuerzeug</span></div>
                <div class="check-row"><div class="check-circle"></div><span>Bleigie√üen-Set (Wachs) bereit?</span></div>
                <div class="check-row"><div class="check-circle"></div><span>Sektgl√§ser poliert?</span></div>
                <div class="check-row"><div class="check-circle"></div><span>Neujahrsvors√§tze √ºberlegt?</span></div>
                <div class="check-row"><div class="check-circle"></div><span>Erste Hilfe Kater-Set (Wasser/Aspirin)</span></div>

                <button class="btn-full" onclick="shareApp('Hast du alles f√ºr die Party?', 'Checkliste: ' + window.location.href)">Liste teilen</button>
            </div>
        </div>
    </div>

    <div id="toast">Kopiert!</div>

    <script>
        // --- COUNTDOWN LOGIC ---
        const currentYear = new Date().getFullYear();
        const nextYear = currentYear + 1;
        const targetDate = new Date(`January 1 ${nextYear} 00:00:00`);
        document.getElementById('year-label').innerText = `Countdown ${nextYear}`;

        const el = { d: document.getElementById('d'), h: document.getElementById('h'), m: document.getElementById('m'), s: document.getElementById('s') };
        let isNewYear = false;

        function updateCountdown() {
            const now = new Date();
            const diff = targetDate - now;

            if (diff <= 0) {
                if(!isNewYear) startNewYear();
                return;
            }

            const d = Math.floor(diff / (1000 * 60 * 60 * 24));
            const h = Math.floor((diff / (1000 * 60 * 60)) % 24);
            const m = Math.floor((diff / 1000 / 60) % 60);
            const s = Math.floor((diff / 1000) % 60);

            el.d.innerText = d; 
            el.h.innerText = h < 10 ? '0' + h : h;
            el.m.innerText = m < 10 ? '0' + m : m;
            el.s.innerText = s < 10 ? '0' + s : s;
        }

        function startNewYear() {
            isNewYear = true;
            document.querySelector('.screen-content').style.display = 'none';
            document.getElementById('hny-overlay').style.display = 'flex';
            fireworksActive = true;
        }

        // --- FIREWORKS ---
        const canvas = document.getElementById('fireworks-canvas');
        const ctx = canvas.getContext('2d');
        let canvasWidth, canvasHeight, particles = [];
        let fireworksActive = false;
        let previewTimeout;

        function resize() { 
            canvasWidth = canvas.width = window.innerWidth; 
            canvasHeight = canvas.height = window.innerHeight; 
        }
        window.addEventListener('resize', resize); resize();

        function toggleFireworks() {
            if (fireworksActive) {
                stopFireworks(); // Manuell stoppen erlauben
                return;
            }
            fireworksActive = true;
            
            // Vorschau automatisch nach 5 Sekunden beenden
            if (!isNewYear) {
                clearTimeout(previewTimeout);
                previewTimeout = setTimeout(() => {
                    stopFireworks();
                }, 5000);
            }
        }

        function stopFireworks() {
            if(isNewYear) return; // Can't stop on actual new year
            fireworksActive = false;
            clearTimeout(previewTimeout);
            ctx.clearRect(0,0,canvasWidth,canvasHeight);
            document.getElementById('hny-overlay').style.display = 'none';
        }

        function animate() {
            requestAnimationFrame(animate);
            if(!fireworksActive) { 
                ctx.clearRect(0,0,canvasWidth,canvasHeight); 
                return; 
            }
            
            // Trail effect
            ctx.fillStyle = 'rgba(0,0,0,0.2)';
            ctx.fillRect(0,0,canvasWidth,canvasHeight);
            
            if(Math.random() < 0.15) { // More fireworks
                const x = Math.random()*canvasWidth;
                const y = Math.random()*canvasHeight*0.6;
                const c = `hsl(${Math.random()*360}, 100%, 60%)`;
                
                for(let i=0; i<40; i++) {
                    const speed = Math.random() * 5 + 2;
                    const angle = Math.random() * Math.PI * 2;
                    particles.push({
                        x:x, y:y, color:c, 
                        vx: Math.cos(angle) * speed, 
                        vy: Math.sin(angle) * speed, 
                        alpha:1, 
                        decay: Math.random()*0.02+0.015,
                        gravity: 0.05
                    });
                }
            }
            
            particles.forEach((p,i) => {
                p.x+=p.vx; p.y+=p.vy; p.vy+=p.gravity; p.alpha-=p.decay;
                ctx.globalAlpha = p.alpha; ctx.fillStyle = p.color;
                ctx.beginPath(); ctx.arc(p.x, p.y, 2.5, 0, Math.PI*2); ctx.fill();
                if(p.alpha<=0) particles.splice(i,1);
            });
        }
        
        // --- DRAWER & NAV LOGIC ---
        function updateNavHighlight(id) {
            document.querySelectorAll('.dock-item').forEach(el => el.classList.remove('highlight'));
            if(id) document.getElementById('nav-' + id).classList.add('highlight');
        }

        function showHome() {
            closeAllDrawers();
            updateNavHighlight('home');
        }

        function openDrawer(id) {
            closeAllDrawers();
            document.getElementById('drawer-' + id).classList.add('open');
            updateNavHighlight(id);
        }

        function closeAllDrawers() {
            document.querySelectorAll('.drawer-overlay').forEach(el => el.classList.remove('open'));
            // Wenn kein Drawer offen ist, ist Home (Countdown) theoretisch aktiv
            // Aber wir setzen den Highlight nur explizit, wenn showHome aufgerufen wird
            // oder lassen den letzten Tab aktiv? √úblicherweise ist "Home" aktiv wenn alles zu ist.
            updateNavHighlight('home');
        }

        document.querySelectorAll('.drawer-overlay').forEach(overlay => {
            overlay.addEventListener('click', (e) => {
                if(e.target === overlay) showHome();
            });
        });

        // --- UTILS ---
        function shareApp(title, text) {
            if (navigator.share) {
                navigator.share({ title: title || `Silvester ${nextYear}`, text: text, url: window.location.href }).catch(()=>{});
            } else {
                copyText(text || window.location.href, "Text kopiert!");
            }
        }

        function copyText(text, msg) {
            const input = document.createElement('textarea');
            input.value = text;
            document.body.appendChild(input);
            input.select();
            document.execCommand('copy');
            document.body.removeChild(input);
            
            const toast = document.getElementById('toast');
            toast.innerText = msg || "Kopiert!";
            toast.classList.add('show');
            setTimeout(() => toast.classList.remove('show'), 2000);
            
            if(window.navigator.vibrate) window.navigator.vibrate(50); 
        }

        // Start Loops
        animate();
        setInterval(updateCountdown, 1000);
        updateCountdown();
    </script>
</body>
</html>
